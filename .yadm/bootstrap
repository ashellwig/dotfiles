#!/bin/bash

red='\033[1;31m'
yellow='\033[1;33m'
green='\033[1;32m'
ec='\033[0m\n'

# Update System First
sudo pacman -Syyyu --noconfirm

# XDG Directories
echo -e "\033[1;33mCreating Directories for XDG Standard\033[0m\n"
mkdir -p "$HOME/.config"
mkdir -p "$HOME/Desktop"
mkdir -p "$HOME/Downloads"
mkdir -p "$HOME/Templates"
mkdir -p "$HOME/Public"
mkdir -p "$HOME/Documents"
mkdir -p "$HOME/Music"
mkdir -p "$HOME/Pictures"
mkdir -p "$HOME/Videos"

# Install yaourt
echo -e "${yellow}Installing Yaourt${ec}"
if [[ ! -x $(command -v yaourt) ]]; then
	cd ${HOME}
	mkdir BUILDS
	cd BUILDS
	git clone https://aur.archlinux.org/yaourt.git
	cd yaourt
	makepkg -si --noconfirm
	cd ${HOME}
	rm -rf ${HOME}/BUILDS
else
	echo -e "${green}Yaourt is already installed${ec}"
fi
echo -e "${green}Yaourt installed${ec}"

# Install ZSH
echo -e "${yellow}Installing and Configuring ZSH${ec}"
if [[ ! -d "${HOME}/.zsh" ]]; then
	sudo pacman -S zsh git --noconfirm --needed
	git clone --recursive https://github.com/ashellwig/.zsh ${HOME}/.zsh
	cd ${HOME}/.zsh
	git submodule update --init --recursive
	cd ${HOME}
else
	echo -e "${green}ZSH already in use${ec}"
fi
echo -e "${green}ZSH Installed/Configured${ec}"

# Install Node.js
echo -e "${yellow}Installing NVM for Node.js${ec}"
if [[ ! -d "${HOME}/.nvm" ]]; then
	curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash
else
	echo -e "${green}NVM already installed${ec}"
fi
echo -e "${green}NVM Installed${ec}"

# Install Anaconda
echo -e "${yellow}Installing Anaconda 3 for Python${ec}"
if [[ ! -d "${HOME}/anaconda3" ]]; then
	curl -o- https://repo.anaconda.com/archive/Anaconda3-5.2.0-Linux-x86_64.sh | bash
else
	echo -e "${green}Anaconda already installed${ec}"
fi
echo -e "${green}Anaconda Installed${ec}"

# Install Go
echo -e "${yellow}Installing Golang${ec}"
if [[ ! -d "${HOME}/go" ]]; then
	mkdir ${HOME}/go
	sudo pacman -S go go-tools
	go get -u mvdan.cc/sh/cmd/shfmt
else
	echo -e "${green}Go already Installed${ec}"
fi
echo -e "${green}Go Installed${ec}"

# Install Rust
echo -e "${yellow}Installing Rustup for Rust${ec}"
if [[ ! -d "${HOME}/.rustup" ]]; then
	curl https://sh.rustup.rs -sSf | bash -s -- \
		-y --no-modify-path --verbose \
		--default-host '' \
		--default-toolchain ''
	rustup component add rust-src rust-analysis rls-preview
else
	echo -e "${green}Rust already installed${ec}"
fi
echo -e "${green}Rust Installed${ec}"

# Install vim-plug
echo -e "${yellow}Installing vim-plug${ec}"
if [[ ! -e "${HOME}/.vim/autoload/plug.vim" ]]; then
	curl -fLo "${HOME}/.vim/autoload/plug.vim" --create-dirs \
		https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
else
	echo -e "${green}vim-plug already Installed${ec}"
fi
echo -e "${green}vim-plug Installed${ec}"

# Install i3
echo -e "${yellow}Installing i3${ec}"
if [[ ! -x "$(command -v i3)" ]]; then
	sudo pacman -S \
		i3 compton dmenu nitrogen pulseaudio pulseaudio-alsa \
		xorg-xinit xorg-server xorg-xrandr xorg-xrdb --noconfirm --needed \
		yaourt -S conky-lua-nv nerd-fonts-complete --noconfirm --needed
else
	echo -e "${green}i3 already Installed${ec}"
fi
echo -e "${green}i3 Installed${ec}"

# Install VS Code
echo -e "${yellow}Installing VS Code${ec}"
if [[ ! -d "${HOME}/.vscode" ]]; then
	yaourt -S visual-studio-code-bin --noconfirm
else
	echo -e "${green}VS Code already Installed${ec}"
fi
echo -e "${green}VS Code Installed${ec}"

# vim: set et ts=2 sw=2 ft=sh:
