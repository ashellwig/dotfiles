#!/bin/bash

#############################################
# yadm bootstrap                           ##
# @ashellwig                               ##
# Purpose: install zsh if not found, then  ##
#   source the bootstrap.zsh               ##
#############################################

echo -e "\e[1;32m--- Bash Bootstrap ---\e[0m"

if [[ -z $(which zsh) ]]; then
	echo "Zsh was not found. Installing now..."

	echo "What distribution is this?"
	read USERS_DISTRO
	case $USERS_DISTRO in
	Arch)
		echo "Using Pacman to install Zsh"
		sudo pacman -Syu --noconfirm
		sudo pacman -S zsh --noconfirm
		echo "Zsh installed"
		;;
	RHEL)
		echo "Using Yum to install Zsh"
		sudo yum update
		sudo yum install -y zsh
		echo "Zsh installed."
		;;
	*)
		echo -e "[1;31mSorry, only \"Arch\" and \"RHEL\" are accepted."
		;;
	esac
	echo "Sourcing the rest of the bootstrap in *.zsh"
	~/.yadm/bootstrap.zsh
else
	echo "Zsh installed. Sourcing *.zsh"
	~/.yadm/bootstrap.zsh
fi
