#!/bin/bash

#############################################
# yadm bootstrap                           ##
# @ashellwig                               ##
# Purpose: install zsh if not found, then  ##
#   source the bootstrap.zsh               ##
#############################################

echo -e "\e[1;32m--- Bash Bootstrap ---\e[0m"

if [[ -z $(which zsh) ]]; then
	echo "Zsh was not found. Installing now..."

	echo "What distribution is this?"
	read USERS_DISTRO
	case $USERS_DISTRO in
	Arch)
		echo -e "\nUsing Pacman to install Zsh"
		sudo pacman -Syu --noconfirm
		sudo pacman -S zsh --noconfirm
		echo -e "\nZsh installed"
		;;
	RHEL)
		echo -e "\nUsing Yum to install Zsh"
		sudo yum update
		sudo yum install -y zsh
		echo -e "\nZsh installed."
		;;
	Ubuntu)
		echo -e "\nUsing apt-get to install Zsh"
		sudo apt-get update
		sudo apt-get upgrade -y
		sudo apt-get install zsh
		echo -e "\n[2;32mZsh installed for [4mUbuntu[0m"
		;;
	*)
		echo -e "[1;31mSorry, only \"Arch\", \"Ubuntu\", and \"RHEL\" are accepted.[0m"
		;;
	esac
	echo "Sourcing the rest of the bootstrap in *.zsh"
	~/.yadm/bootstrap.zsh
else
	echo "Zsh installed. Sourcing *.zsh"
	~/.yadm/bootstrap.zsh
fi
